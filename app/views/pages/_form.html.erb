<!--<script   src="https://code.jquery.com/jquery-1.4.2.min.js"   integrity="sha256-4joqTi18K0Hrzdj/wGed9xQOt/UuHuur+CeogYJkPFk="   crossorigin="anonymous"></script>

<script>
$(function(){
    $(document.body).bind('mouseup', function(e){
        var selection;
        
        if (window.getSelection) {
          selection = window.getSelection();
        } else if (document.selection) {
          selection = document.selection.createRange();
        }
        
        selection.toString() !== '' && alert('"' + selection.toString() + '" was selected at ' + e.pageX + '/' + e.pageY);
    });
});
</script>
-->

<%= form_with(model: page, local: true) do |form| %>
  <% if page.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(page.errors.count, "error") %> prohibited this page from being saved:</h2>

      <ul>
      <% page.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>


  <div class="field text-xl my-8 max-w-lg mx-auto">
	<%= form.trix_editor :body, id: :page_body, :placeholder => "Write something", :autofocus => "true", :class => "border-none" %>
  </div>


  <div class="field hidden">
    <h3 class="mt-2 mb-8">Page Name: 
		<%= form.text_field :headline, id: :page_headline, :placeholder => "New page...", :class => "w-full mr-3 py-1 px-2 border-2 rounded" %>
		</h3>
  </div>

  <div class="actions my-4 ml-4 float-right pin-b pin-l fixed font-semibold text-grey-dark">
    Saved
  </div>


  <div class="actions my-4 float-right pin-b pin-r fixed">
    <%= form.submit(:class => "leading-normal font-semibold px-3 bg-grey-light cursor-pointer rounded-lg text-grey-darker mr-4") %>
  </div>
<% end %>
